Neural Network Tools for STM32AI v1.4.1 (STM.ai v6.0.0-RC6)
Created date       : 2021-04-23 10:53:19
Parameters         : generate --name simplenn -m C:/Users/krani/Documents/BME/agv2/Microcontroller/Network/MCU_NN.onnx --type onnx --compression 4 --verbosity 1 --workspace C:\Users\krani\AppData\Local\Temp\mxAI_workspace508907129040012291216677924489 --output C:\Users\krani\.stm32cubemx

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file         : C:\Users\krani\Documents\BME\agv2\Microcontroller\Network\MCU_NN.onnx
type               : onnx
c_name             : simplenn
compression        : 4
quantize           : None
workspace dir      : C:\Users\krani\AppData\Local\Temp\mxAI_workspace508907129040012291216677924489
output dir         : C:\Users\krani\.stm32cubemx

model_name         : MCU_NN
model_hash         : 164e32791dd83822876da2e8eca7bd09
input              : image [1024 items, 4.00 KiB, ai_float, FLOAT32, (1, 1, 1024)]
inputs (total)     : 4.00 KiB
output             : node_22 [4 items, 16 B, ai_float, FLOAT32, (1, 1, 4)]
outputs (total)    : 16 B
params #           : 164,740 items (643.52 KiB)
macc               : 165,892
weights (ro)       : 170,512 B (166.52 KiB) -488,448(-74.1%)
activations (rw)   : 1,024 B (1024 B) 
ram (total)        : 5,136 B (5.02 KiB) = 1,024 + 4,096 + 16

Model name - MCU_NN ['image'] ['action']
------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)               shape      param/size        macc      connected to   |   c_size             c_macc          c_type      
------------------------------------------------------------------------------------------------------------------------------------------
0    image (Input)              (c:1024)                                              |                                     
     node_10 (Dense)            (c:128)    131,072/524,288   131,072   image          |   -391,680(-74.7%)   +128(+0.1%)     dense(c8)[0]
------------------------------------------------------------------------------------------------------------------------------------------
1    dense1bias (Placeholder)   (c:128)    128/512                                    |   -512(-100.0%)                     
     node_11 (Eltwise)          (c:128)                      128       node_10        |                      -128(-100.0%)  
                                                                       dense1bias     |  
------------------------------------------------------------------------------------------------------------------------------------------
2    node_12 (Nonlinearity)     (c:128)                      128       node_11        |                      +256(+200.0%)   nl()[1]     
------------------------------------------------------------------------------------------------------------------------------------------
3    node_14 (Dense)            (c:128)    16,384/65,536     16,384    node_12        |   -47,616(-72.7%)    +128(+0.8%)     dense(c8)[2]
------------------------------------------------------------------------------------------------------------------------------------------
4    dense2bias (Placeholder)   (c:128)    128/512                                    |   -512(-100.0%)                     
     node_15 (Eltwise)          (c:128)                      128       node_14        |                      -128(-100.0%)  
                                                                       dense2bias     |  
------------------------------------------------------------------------------------------------------------------------------------------
5    node_16 (Nonlinearity)     (c:128)                      128       node_15        |                      +256(+200.0%)   nl()[3]     
------------------------------------------------------------------------------------------------------------------------------------------
6    node_18 (Dense)            (c:128)    16,384/65,536     16,384    node_16        |   -47,616(-72.7%)    +128(+0.8%)     dense(c8)[4]
------------------------------------------------------------------------------------------------------------------------------------------
7    dense3bias (Placeholder)   (c:128)    128/512                                    |   -512(-100.0%)                     
     node_19 (Eltwise)          (c:128)                      128       node_18        |                      -128(-100.0%)  
                                                                       dense3bias     |  
------------------------------------------------------------------------------------------------------------------------------------------
8    node_20 (Nonlinearity)     (c:128)                      128       node_19        |                      +256(+200.0%)   nl()[5]     
------------------------------------------------------------------------------------------------------------------------------------------
9    node_22 (Dense)            (c:4)      512/2,048         512       node_20        |   +16(+0.8%)         +4(+0.8%)       dense()/o[6]
------------------------------------------------------------------------------------------------------------------------------------------
10   dense4bias (Placeholder)   (c:4)      4/16                                       |   -16(-100.0%)                      
     action (Eltwise)           (c:4)                        4         node_22        |                      -4(-100.0%)    
                                                                       dense4bias     |  
------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=165,124/165,892 +768(+0.5%) weights=658,960/170,512 -488,448(-74.1%) activations=--/1,024 io=--/4,112


Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name         : mcu_nn
c-name             : simplenn
c-node #           : 7
c-array #          : 16
activations size   : 1024
weights size       : 170512
macc               : 165892
inputs             : ['image_output_array']
outputs            : ['node_22_output_array']


C-Arrays (16)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)   item/size           mem-pool     c-type       fmt        comment            
------------------------------------------------------------------------------------------------------------------------
0     image_output     1024/4096           user         float        float      /input             
1     node_10_output   128/512             activations  float        float                         
2     node_12_output   128/512             activations  float        float                         
3     node_14_output   128/512             activations  float        float                         
4     node_16_output   128/512             activations  float        float                         
5     node_18_output   128/512             activations  float        float                         
6     node_20_output   128/512             activations  float        float                         
7     node_22_output   4/16                user         float        float      /output            
8     node_10_weights  131072/132096       weights      const float  c8 (LUT8)                     
9     node_10_bias     128/512             weights      const float  float                         
10    node_14_weights  16384/17408         weights      const float  c8 (LUT8)                     
11    node_14_bias     128/512             weights      const float  float                         
12    node_18_weights  16384/17408         weights      const float  c8 (LUT8)                     
13    node_18_bias     128/512             weights      const float  float                         
14    node_22_weights  512/2048            weights      const float  float                         
15    node_22_bias     4/16                weights      const float  float                         
------------------------------------------------------------------------------------------------------------------------


C-Layers (7)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  layer_ macc        rom         tensors             shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     node_10         1   dense  131200      132608      I: image_output     [1, 1, 1, 1024] (0)                    
                                                         W: node_10_weights                                         
                                                         W: node_10_bias                                            
                                                         O: node_10_output   [1, 1, 1, 128] (1)                     
------------------------------------------------------------------------------------------------------------------------
1     node_12         2   nl     384         0           I: node_10_output   [1, 1, 1, 128] (1)                     
                                                         O: node_12_output   [1, 1, 1, 128] (2)                     
------------------------------------------------------------------------------------------------------------------------
2     node_14         4   dense  16512       17920       I: node_12_output   [1, 1, 1, 128] (2)                     
                                                         W: node_14_weights                                         
                                                         W: node_14_bias                                            
                                                         O: node_14_output   [1, 1, 1, 128] (3)                     
------------------------------------------------------------------------------------------------------------------------
3     node_16         5   nl     384         0           I: node_14_output   [1, 1, 1, 128] (3)                     
                                                         O: node_16_output   [1, 1, 1, 128] (4)                     
------------------------------------------------------------------------------------------------------------------------
4     node_18         7   dense  16512       17920       I: node_16_output   [1, 1, 1, 128] (4)                     
                                                         W: node_18_weights                                         
                                                         W: node_18_bias                                            
                                                         O: node_18_output   [1, 1, 1, 128] (5)                     
------------------------------------------------------------------------------------------------------------------------
5     node_20         8   nl     384         0           I: node_18_output   [1, 1, 1, 128] (5)                     
                                                         O: node_20_output   [1, 1, 1, 128] (6)                     
------------------------------------------------------------------------------------------------------------------------
6     node_22         10  dense  516         2064        I: node_20_output   [1, 1, 1, 128] (6)                     
                                                         W: node_22_weights                                         
                                                         W: node_22_bias                                            
                                                         O: node_22_output   [1, 1, 1, 4] (7)                       
------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=165,892 weights=170,512 act=1,024 ram_io=4,112
------------------------------------------------------------------------
id   name      c_macc                    c_rom                     c_id
------------------------------------------------------------------------
0    node_10   ||||||||||||||||  79.1%   ||||||||||||||||  77.8%   [0] 
2    node_12   |                  0.2%   |                  0.0%   [1] 
3    node_14   ||                10.0%   |||               10.5%   [2] 
5    node_16   |                  0.2%   |                  0.0%   [3] 
6    node_18   ||                10.0%   |||               10.5%   [4] 
8    node_20   |                  0.2%   |                  0.0%   [5] 
9    node_22   |                  0.3%   |                  1.2%   [6] 

Generated files (5)
------------------------------------------------------------------------------------------------------------------------
C:\Users\krani\.stm32cubemx\simplenn_config.h
C:\Users\krani\.stm32cubemx\simplenn.h
C:\Users\krani\.stm32cubemx\simplenn.c
C:\Users\krani\.stm32cubemx\simplenn_data.h
C:\Users\krani\.stm32cubemx\simplenn_data.c
